# AskChatGpt

This class is responsible for running a step that asks questions with the help of ChatGPT, an AI capable of generating responses based on given context and parameters. The code consists of several sections:

1. **declare_name** function
2. **declare_parameters** function
3. **declare_inputs** function
4. **declare_outputs** function
5. **run_step** function

## declare_name()
This function simply returns the *string* `'Ask ChatGPT'`, which denotes the name of the functionality provided by this class. 

## declare_parameters()
This function returns a list of dictionaries containing the required input parameters necessary for the functionality. Each parameter is represented as a dictionary containing the `name`, `data_type`, and `placeholder` for that specific parameter. The three parameters are:
- **question**: A string containing the question that needs to be answered using ChatGPT.
- **context**: An optional string that can provide additional context for the question.
- **max_tokens**: Integer value specifying maximum number of tokens the generated response should have.

## declare_inputs()
This function returns a list of dictionaries for the inputs which may be passed to the class. The only input declared here is optional **context**, with a data type of *string*.

## declare_outputs()
This function declares the output parameters that are generated by the class after processing. It contains a single output parameter:
- **chatgpt_response**: A string containing the AI-generated response based on the question and context provided.

## run_step(step, ai_context)
This is the main function where the actual processing of the question, context and generation of response takes place. It accepts two arguments: `step` that contains the input parameters defined earlier, and `ai_context` that helps in interfacing with AI-related functions.

### Function Workflow
1. Fetch necessary parameters from `step['parameters']` and store them in corresponding variables.
2. Check input context (if any) and concatenate it with the provided parameter context. If either or both of them are present, prepend the appropriate context information to the question (the prompt).
3. Run chat_completion using the AI context and fetch the AI-generated response.
4. Set the 'chatgpt_response' output variable in the AI context to this response.
5. Add the response to the AI context log for future reference.

This class allows the user to provide a question, optional context, and maximum token limit, then generates a response using ChatGPT based on these inputs.